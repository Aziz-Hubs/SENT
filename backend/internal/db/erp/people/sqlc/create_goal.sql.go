// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: create_goal.sql

package peopledb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createGoal = `-- name: CreateGoal :one
INSERT INTO
    goals (
        tenant_id,
        employee_id,
        title,
        description,
        category,
        target_date,
        status
    )
VALUES (
        $1,
        $2,
        $3,
        $4,
        $5,
        $6,
        'active'
    )
RETURNING
    id
`

type CreateGoalParams struct {
	TenantID    int32              `json:"tenant_id"`
	EmployeeID  int32              `json:"employee_id"`
	Title       string             `json:"title"`
	Description pgtype.Text        `json:"description"`
	Category    pgtype.Text        `json:"category"`
	TargetDate  pgtype.Timestamptz `json:"target_date"`
}

func (q *Queries) CreateGoal(ctx context.Context, arg CreateGoalParams) (int32, error) {
	row := q.db.QueryRow(ctx, createGoal,
		arg.TenantID,
		arg.EmployeeID,
		arg.Title,
		arg.Description,
		arg.Category,
		arg.TargetDate,
	)
	var id int32
	err := row.Scan(&id)
	return id, err
}
