// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: create_benefit_enrollment.sql

package peopledb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createBenefitEnrollment = `-- name: CreateBenefitEnrollment :one
INSERT INTO
    benefit_enrollments (
        tenant_id,
        employee_id,
        benefit_plan_id,
        tier,
        employee_cost,
        employer_cost,
        effective_from,
        status
    )
VALUES (
        $1,
        $2,
        $3,
        $4,
        $5,
        $6,
        $7,
        'active'
    )
RETURNING
    id, tenant_id, employee_id, benefit_plan_id, tier, employee_cost, employer_cost, effective_from, status, created_at, updated_at
`

type CreateBenefitEnrollmentParams struct {
	TenantID      int32              `json:"tenant_id"`
	EmployeeID    int32              `json:"employee_id"`
	BenefitPlanID int32              `json:"benefit_plan_id"`
	Tier          pgtype.Text        `json:"tier"`
	EmployeeCost  pgtype.Numeric     `json:"employee_cost"`
	EmployerCost  pgtype.Numeric     `json:"employer_cost"`
	EffectiveFrom pgtype.Timestamptz `json:"effective_from"`
}

func (q *Queries) CreateBenefitEnrollment(ctx context.Context, arg CreateBenefitEnrollmentParams) (BenefitEnrollment, error) {
	row := q.db.QueryRow(ctx, createBenefitEnrollment,
		arg.TenantID,
		arg.EmployeeID,
		arg.BenefitPlanID,
		arg.Tier,
		arg.EmployeeCost,
		arg.EmployerCost,
		arg.EffectiveFrom,
	)
	var i BenefitEnrollment
	err := row.Scan(
		&i.ID,
		&i.TenantID,
		&i.EmployeeID,
		&i.BenefitPlanID,
		&i.Tier,
		&i.EmployeeCost,
		&i.EmployerCost,
		&i.EffectiveFrom,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
