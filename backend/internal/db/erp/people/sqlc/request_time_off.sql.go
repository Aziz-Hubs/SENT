// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: request_time_off.sql

package peopledb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const requestTimeOff = `-- name: RequestTimeOff :one
INSERT INTO
    time_off_requests (
        tenant_id,
        employee_id,
        type,
        start_date,
        end_date,
		requested_hours,
		notes,
        status,
        created_at,
        updated_at
    )
VALUES (
        $1,
        $2,
        $3,
        $4,
        $5,
		$6,
		$7,
        'PENDING',
        NOW(),
        NOW()
    )
RETURNING
    id
`

type RequestTimeOffParams struct {
	TenantID       int32              `json:"tenant_id"`
	EmployeeID     int32              `json:"employee_id"`
	Type           string             `json:"type"`
	StartDate      pgtype.Timestamptz `json:"start_date"`
	EndDate        pgtype.Timestamptz `json:"end_date"`
	RequestedHours pgtype.Numeric     `json:"requested_hours"`
	Notes          pgtype.Text        `json:"notes"`
}

func (q *Queries) RequestTimeOff(ctx context.Context, arg RequestTimeOffParams) (int32, error) {
	row := q.db.QueryRow(ctx, requestTimeOff,
		arg.TenantID,
		arg.EmployeeID,
		arg.Type,
		arg.StartDate,
		arg.EndDate,
		arg.RequestedHours,
		arg.Notes,
	)
	var id int32
	err := row.Scan(&id)
	return id, err
}
