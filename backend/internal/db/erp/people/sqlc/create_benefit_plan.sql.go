// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: create_benefit_plan.sql

package peopledb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createBenefitPlan = `-- name: CreateBenefitPlan :one
INSERT INTO
    benefit_plans (
        tenant_id,
        name,
        description,
        type,
        employer_contribution,
        employee_deduction,
        status
    )
VALUES (
        $1,
        $2,
        $3,
        $4,
        $5,
        $6,
        'active'
    )
RETURNING
    id, tenant_id, name, description, type, employer_contribution, employee_deduction, status, created_at, updated_at
`

type CreateBenefitPlanParams struct {
	TenantID             int32          `json:"tenant_id"`
	Name                 string         `json:"name"`
	Description          pgtype.Text    `json:"description"`
	Type                 pgtype.Text    `json:"type"`
	EmployerContribution pgtype.Numeric `json:"employer_contribution"`
	EmployeeDeduction    pgtype.Numeric `json:"employee_deduction"`
}

func (q *Queries) CreateBenefitPlan(ctx context.Context, arg CreateBenefitPlanParams) (BenefitPlan, error) {
	row := q.db.QueryRow(ctx, createBenefitPlan,
		arg.TenantID,
		arg.Name,
		arg.Description,
		arg.Type,
		arg.EmployerContribution,
		arg.EmployeeDeduction,
	)
	var i BenefitPlan
	err := row.Scan(
		&i.ID,
		&i.TenantID,
		&i.Name,
		&i.Description,
		&i.Type,
		&i.EmployerContribution,
		&i.EmployeeDeduction,
		&i.Status,
		&i.CreatedAt,
		&i.UpdatedAt,
	)
	return i, err
}
