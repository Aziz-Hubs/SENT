// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: submit_review.sql

package peopledb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const submitReview = `-- name: SubmitReview :exec
UPDATE performance_reviews
SET
    overall_rating = $1,
    strengths = $2,
    areas_for_improvement = $3,
    manager_comments = $4,
    status = 'submitted',
    submitted_at = $5,
    updated_at = NOW()
WHERE
    id = $6
`

type SubmitReviewParams struct {
	OverallRating       pgtype.Text        `json:"overall_rating"`
	Strengths           pgtype.Text        `json:"strengths"`
	AreasForImprovement pgtype.Text        `json:"areas_for_improvement"`
	ManagerComments     pgtype.Text        `json:"manager_comments"`
	SubmittedAt         pgtype.Timestamptz `json:"submitted_at"`
	ID                  int32              `json:"id"`
}

func (q *Queries) SubmitReview(ctx context.Context, arg SubmitReviewParams) error {
	_, err := q.db.Exec(ctx, submitReview,
		arg.OverallRating,
		arg.Strengths,
		arg.AreasForImprovement,
		arg.ManagerComments,
		arg.SubmittedAt,
		arg.ID,
	)
	return err
}
