// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: check_employee_on_leave.sql

package pulsedb

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const checkEmployeeOnLeave = `-- name: CheckEmployeeOnLeave :one
SELECT EXISTS (
        SELECT 1
        FROM time_off_requests
        WHERE
            employee_id = $1
            AND status = 'APPROVED'
            AND start_date <= $2
            AND end_date >= $2
    )
`

type CheckEmployeeOnLeaveParams struct {
	EmployeeID int32              `json:"employee_id"`
	StartDate  pgtype.Timestamptz `json:"start_date"`
}

func (q *Queries) CheckEmployeeOnLeave(ctx context.Context, arg CheckEmployeeOnLeaveParams) (bool, error) {
	row := q.db.QueryRow(ctx, checkEmployeeOnLeave, arg.EmployeeID, arg.StartDate)
	var exists bool
	err := row.Scan(&exists)
	return exists, err
}
